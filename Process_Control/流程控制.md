### 流程控制
#### 一、循环分类
##### （一）顺序结构
最基本的结构，所有代码默认从上往下执行。
##### （二）分支结构
1\. if 分支；
（1）最简 if
```
if(条件){
    // 满足条件后执行的代码。
}
```
（2）基础 if
```
if(条件){
    // 满足条件后执行的代码。
}else{
    // 不满足条件后执行的代码。
}
```
（3）复杂 if
```
if(条件1){
    // 满足条件 1 时执行的代码
}elseif(条件2){
    // 满足条件 2 时执行的代码
}else{
    // 不满足以上条件时执行的代码
}
```
2\. switch 分支。
> switch 语句用于基于不同条件执行不同动作。

语法：
```
switch(条件表达式){
    case 值1:
        条件为值 1 时所执行的代码。
        break;
    case 值2:
        条件为值 1 时所执行的代码。
        break;
    default:
        条件不为值 1、2 时所执行的代码
}
```

工作原理：
```
1. 对表达式（通常是变量）进行一次计算；（计算）
2. 把表达式的值与结构中 case 的值进行比较；（比较）
3. 如果存在匹配，则执行与 case 关联的代码；（执行）
4. 代码执行后，break 语句阻止代码跳入下一个 case 中继续执行；（终止）
5. 如果没有 case 为真，则使用 default 语句。（默认）
```
例子，分数分段：满分 100 分。
- 100 分：满分；
- 90~100 分：非常优秀；
- 80~90 分：优秀；
- 70~80 分：良好；
- 60~70 分：及格；
- 0~59 分：不及格。
```
<?php

$score = 0;
if ($score > 100 || $score < 0) {
    die('您输入的分数不正确，正确的分数为 0~99');
}
// 条件表达式计算后一定要是一个具体的值！
switch (floor($score/10)) {
    case 10:
        echo '满分！';
        break;
    case 9:
        echo '非常优秀';
        break;
    case 8:
        echo '优秀';
        break;
    case 7:
        echo '良好';
        break;
    case 6:
        echo '及格';
        break;
    case 5:
    case 4:
    case 3:
    case 2:
    case 1:
    case 0:
        echo '不及格';
        break;
    default:
        echo 'error';
        break;
}
```

if 与 switch 的选择：
- if 能做所有的分支结构的事情。
- switch 处理条件比较多，同时比较单一，而且是固定值匹配分支结构。（同一个变量配置不同的值）
##### （三）循环结构
1\. for 循环
```
for(初始条件;条件判定;改变条件){}
```
2\. while 循环
```
// 在循环体外初始化条件
while(条件表达式){
    // 循环体
    // 在循环体内改变条件    
}
``` 
例题：while 循环与自操作符
```
<?php

$i = 1;
while ($i<=3) {
    echo $i++."\n";
}
问：$i 输出的值是什么？
$j = 1;
while ($j<=3) {
    echo ++$j."\n";
}

问：$j 输出的值是什么？
```
答案：
\$i 输出 1 2 3；
\$j 输出 2 3 4。

分析：
```
当自操作符参与其他运算时：
后置操作符：先保留自己的值，在改变自己，但是交给别人的值是改变前的值。
$i++ 参与了输出的操作，输出的值是自增前的值，所以是输出 1 2 3。

前置操作符，先改变自己，交给别人的值是改变后的值。
++$j 参与了输出操作，把改变后的值输出，所以是输出 2 3 4。
```
3\. do-while 循环
do-while 循环其实是对 while 循环的补充：
```
do{

}while(条件判定);
```
#### 二、循环控制
##### （一）中断控制：continue
> 在循环结构用用来跳过本次循环中剩余的代码并在条件求值为真时开始执行下一次循环。
```
<?php

// 例子：输出 1~100 内 5 的倍数的值
$i = 1;
while ($i<=100) {
    if ($i % 5 != 0) {
        $i++;
        continue;
    }
    echo $i++."\n";
}
```
##### （二）终止控制：break
> 结束执行当前的循环或 switch 分支结构。

可选参数（层级参数）：
break 接受一个数字的可选参数，决定跳出几重循环。 默认值是 1，仅仅跳出最近一层嵌套结构。
```
<?php
$i = 0;
while (++$i) {
    // 注意：这里必须是前置自操作。（自操作符参与了判定真假的操作，假如是后置操作符，首先交给判定的值为 0，判定为假，循环直接结束）
    switch ($i) {
        case 5:
            echo "At 5<br />\n";
            break 1;  /* 只退出 switch. */
        case 10:
            echo "At 10; quitting<br />\n";
            break 2;  /* 退出 switch 和 while 循环 */
        default:
            break;
    }
}

/*
    输出：
    At 5<br />
    At 10; quitting<br />
*/
```

#### 替代语法
PHP 在 html 中只做数据输出，输出通常需要使用条件判断和循环操作，因此 PHP 提供了对应的分支结构和循环结构的代替语法：

**用 “:” 代替 “{”，用 “endXXX” 代替 “}”。**

例如，for 循环的代替规则如下：
```
for(;;){ ==> for(;;):
}        ==> endfor
```
其他的还有: 
- switch;（endswitch）
- while;
- foreach。
例子：99 乘法表
```
<table width=100 border=1>
    <?php for ($i=1;$i<=9;$i++):?>
    <tr>
        <?php for ($j=1;$j<=$i;$j++):?>
        <td><?php echo $i .'*' .$j .'='. $i*$j;?>
        </td>
        <?php endfor;?>
    </tr>
    <?php endfor;?>
</table>
```